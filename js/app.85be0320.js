(function(){"use strict";var t={3888:function(t,e,a){var n=a(5130),r=a(6768),s=a(4232);const o={class:"io"},l={class:"input"},i={class:"row"},c={class:"row-half"},u={class:"row-half"},h={class:"row"},p={class:"row-half"},k={class:"row-half"},m={class:"output"},d={class:"io top"},b={class:"chart-holder"},v={class:"save-holder"},_=["onClick"],f={key:0,class:"error"};function y(t,e,a,y,L,g){const w=(0,r.g2)("Line");return(0,r.uX)(),(0,r.CE)("main",null,[e[21]||(e[21]=(0,r.Lk)("h1",null,"Mortgage Calculator",-1)),(0,r.Lk)("div",o,[(0,r.Lk)("div",l,[(0,r.Lk)("form",null,[(0,r.Lk)("div",i,[(0,r.Lk)("div",c,[e[9]||(e[9]=(0,r.Lk)("label",null,"House Price",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>L.house_price=t),onChange:e[1]||(e[1]=(...t)=>g.calculate&&g.calculate(...t))},null,544),[[n.Jo,L.house_price]])]),(0,r.Lk)("div",u,[e[10]||(e[10]=(0,r.Lk)("label",null,"Deposit",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>L.deposit=t),onChange:e[3]||(e[3]=(...t)=>g.calculate&&g.calculate(...t))},null,544),[[n.Jo,L.deposit]])])]),(0,r.Lk)("div",h,[(0,r.Lk)("div",p,[e[11]||(e[11]=(0,r.Lk)("label",null,"Repayment Years",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>L.repayment_years=t),onChange:e[5]||(e[5]=(...t)=>g.calculate&&g.calculate(...t))},null,544),[[n.Jo,L.repayment_years]])]),(0,r.Lk)("div",k,[e[12]||(e[12]=(0,r.Lk)("label",null,"Interest Rate",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"0.1","onUpdate:modelValue":e[6]||(e[6]=t=>L.interest_rate=t),onChange:e[7]||(e[7]=(...t)=>g.calculate&&g.calculate(...t))},null,544),[[n.Jo,L.interest_rate]])])])])]),(0,r.Lk)("div",m,[(0,r.Lk)("table",null,[(0,r.Lk)("tr",null,[e[13]||(e[13]=(0,r.Lk)("th",null,"Total To Pay",-1)),(0,r.Lk)("td",null,"£"+(0,s.v_)(L.total_to_pay),1)]),(0,r.Lk)("tr",null,[e[14]||(e[14]=(0,r.Lk)("th",null,"Total Interest Paid",-1)),(0,r.Lk)("td",null,"£"+(0,s.v_)(L.total_interest_to_pay),1)]),(0,r.Lk)("tr",null,[e[15]||(e[15]=(0,r.Lk)("th",null,"Monthly Repayments",-1)),(0,r.Lk)("td",null,"£"+(0,s.v_)(L.monthly_payment),1)])])])]),(0,r.Lk)("div",d,[(0,r.Lk)("div",b,[L.chart_setup?((0,r.uX)(),(0,r.Wv)(w,{id:"balance-chart",options:L.chart_options,data:L.balance_chart,key:L.chart_key},null,8,["options","data"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",v,[(0,r.Lk)("h2",null,[e[16]||(e[16]=(0,r.eW)("Saved Calculations ")),(0,r.Lk)("button",{onClick:e[8]||(e[8]=(...t)=>g.save&&g.save(...t))},"Save Calculation")]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(L.saves,t=>((0,r.uX)(),(0,r.CE)("button",{class:"saved-calc",onClick:e=>g.loadSave(t),key:t},[(0,r.Lk)("div",null,[e[17]||(e[17]=(0,r.Lk)("b",null,"House Price: ",-1)),(0,r.eW)("£"+(0,s.v_)(g.formatNumber(t.house_price)),1)]),(0,r.Lk)("div",null,[e[18]||(e[18]=(0,r.Lk)("b",null,"Deposit:",-1)),(0,r.eW)(" £"+(0,s.v_)(g.formatNumber(t.deposit)),1)]),(0,r.Lk)("div",null,[e[19]||(e[19]=(0,r.Lk)("b",null,"Repayment Years:",-1)),(0,r.eW)(" "+(0,s.v_)(t.repayment_years),1)]),(0,r.Lk)("div",null,[e[20]||(e[20]=(0,r.Lk)("b",null,"Interest Rate:",-1)),(0,r.eW)(" "+(0,s.v_)(t.interest_rate),1)])],8,_))),128)),0==L.saves.length?((0,r.uX)(),(0,r.CE)("div",f,"No calculations saved")):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",{ref:"snackbar",class:(0,s.C4)(["snackbar",{active:L.snackbar.shown}])},(0,s.v_)(L.snackbar.message),3)])}a(4114);var L=a(1010),g=a(9064);g.t1.register(g.PP,g.kc,g.FN,g.No,g.hE,g.m_,g.s$);var w={name:"App",components:{Line:L.N1},data(){return{saves:[],deposit:1e4,house_price:2e5,repayment_years:20,interest_rate:4,total_to_pay:0,total_interest_to_pay:0,monthly_payment:0,snackbar:{shown:!1,message:"",timer1:"",timer2:"",timer3:""},chart_setup:!1,chart_key:0,balance_chart:{labels:[],datasets:[{label:"Remaining Debt",data:[],borderColor:"#f87171",backgroundColor:"rgba(248, 113, 113, 0.2)",tension:.3,fill:!0,pointBackgroundColor:"#f87171",pointBorderColor:"#f87171"}]},chart_options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Loan Balance Over Time"}},scales:{y:{ticks:{callback:t=>"£"+t.toLocaleString()}}}}}},mounted(){this.calculate()},methods:{showSnackbar(t){clearTimeout(this.snackbar.timer1),clearTimeout(this.snackbar.timer2),clearTimeout(this.snackbar.timer3),this.snackbar.timer1=setTimeout(()=>{this.snackbar.shown=!1,this.snackbar.message=""},1),this.snackbar.timer2=setTimeout(()=>{this.$refs.snackbar.offsetWidth,this.snackbar.shown=!0,this.snackbar.message=t},2),this.snackbar.timer3=setTimeout(()=>{this.snackbar.shown=!1,this.snackbar.message=""},3e3)},save(){this.showSnackbar("Calculation saved!"),this.saves.push({house_price:this.house_price,deposit:this.deposit,interest_rate:this.interest_rate,repayment_years:this.repayment_years})},loadSave(t){this.showSnackbar("Calculation loaded!"),this.house_price=t.house_price,this.deposit=t.deposit,this.interest_rate=t.interest_rate,this.repayment_years=t.repayment_years,this.calculate()},formatNumber(t){return t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},calculate(){const t=this.house_price-this.deposit,e=12*this.repayment_years,a=this.interest_rate/100/12,n=t*(a*Math.pow(1+a,e))/(Math.pow(1+a,e)-1);var r=0,s=t;let o=[t],l=["Year 0"];for(let i=1;i<=e;i++){const t=s*a,e=n-t;s-=e,r+=t,i%12==0&&(o.push(s.toFixed(2)),l.push("Year: "+i/12)),s<.01&&(s=0)}this.balance_chart.datasets[0].data=o.map(Number),this.balance_chart.labels=l,this.monthly_payment=this.formatNumber(n),this.total_interest_to_pay=this.formatNumber(r),this.total_to_pay=this.formatNumber(t+r),this.chart_setup=!0,this.chart_key++}}},C=a(1241);const O=(0,C.A)(w,[["render",y]]);var T=O;(0,n.Ef)(T).mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,n,r,s){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],s=t[u][2];for(var l=!0,i=0;i<n.length;i++)(!1&s||o>=s)&&Object.keys(a.O).every(function(t){return a.O[t](n[i])})?n.splice(i--,1):(l=!1,s<o&&(o=s));if(l){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,r,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,o=n[0],l=n[1],i=n[2],c=0;if(o.some(function(e){return 0!==t[e]})){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var u=i(a)}for(e&&e(n);c<o.length;c++)s=o[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},n=self["webpackChunkmortgage_calc"]=self["webpackChunkmortgage_calc"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(3888)});n=a.O(n)})();
//# sourceMappingURL=app.85be0320.js.map